{"title":"MySQL Cheatsheet","uid":"3ac38909d2fd409725ed531ea0233490","slug":"mysql-cheatsheet","date":"2021-11-10T07:01:38.000Z","updated":"2021-11-19T09:53:10.636Z","comments":true,"path":"api/articles/mysql-cheatsheet.json","keywords":null,"cover":null,"content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>实用MySQL语句小抄，持久更新<br>SQL，全称Structured Query Language，读作sequel或S-Q-L</p>\n<h1 id=\"命令行语句\"><a href=\"#命令行语句\" class=\"headerlink\" title=\"命令行语句\"></a>命令行语句</h1><h2 id=\"连接服务器\"><a href=\"#连接服务器\" class=\"headerlink\" title=\"连接服务器\"></a>连接服务器</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">&gt;mysql -u root -p  #root是连接所使用的用户名</code></pre>\n\n<h2 id=\"断开连接\"><a href=\"#断开连接\" class=\"headerlink\" title=\"断开连接\"></a>断开连接</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">mysql&gt; quit\nBye</code></pre>\n\n<h2 id=\"查看当前版本\"><a href=\"#查看当前版本\" class=\"headerlink\" title=\"查看当前版本\"></a>查看当前版本</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">mysql&gt; select version();\n+-----------+\n| version() |\n+-----------+\n| 8.0.27    |\n+-----------+\n1 row in set (0.00 sec)</code></pre>\n\n<h2 id=\"查看所有数据库\"><a href=\"#查看所有数据库\" class=\"headerlink\" title=\"查看所有数据库\"></a>查看所有数据库</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">mysql&gt; show databases;\n+--------------------+\n| Database           |\n+--------------------+\n| information_schema |\n| mysql              |\n| performance_schema |\n| sakila             |\n| sys                |\n| world              |\n+--------------------+\n7 rows in set (0.00 sec)</code></pre>\n\n<h1 id=\"数据库指令\"><a href=\"#数据库指令\" class=\"headerlink\" title=\"数据库指令\"></a>数据库指令</h1><h2 id=\"创建数据库\"><a href=\"#创建数据库\" class=\"headerlink\" title=\"创建数据库\"></a>创建数据库</h2><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">create database 数据库名</code></pre>\n\n<h2 id=\"使用数据库\"><a href=\"#使用数据库\" class=\"headerlink\" title=\"使用数据库\"></a>使用数据库</h2><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">use 数据库名</code></pre>\n\n<h2 id=\"查看当前选择的数据库\"><a href=\"#查看当前选择的数据库\" class=\"headerlink\" title=\"查看当前选择的数据库\"></a>查看当前选择的数据库</h2><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">select database()</code></pre>\n\n<h2 id=\"删除数据库\"><a href=\"#删除数据库\" class=\"headerlink\" title=\"删除数据库\"></a>删除数据库</h2><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">drop database 数据库名</code></pre>\n\n<h1 id=\"表指令\"><a href=\"#表指令\" class=\"headerlink\" title=\"表指令\"></a>表指令</h1><h2 id=\"查看数据库内所有表\"><a href=\"#查看数据库内所有表\" class=\"headerlink\" title=\"查看数据库内所有表\"></a>查看数据库内所有表</h2><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">show tables</code></pre>\n\n<h2 id=\"创建表\"><a href=\"#创建表\" class=\"headerlink\" title=\"创建表\"></a>创建表</h2><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">create table table_name\n  (column_1 变量类型,\n  column_2 变量类型,\n  column_3 变量类型...)</code></pre>\n<p>实例</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">create table if not exists test (\n  id int unsigned auto_increment,\n  name varchar(20) not null,\n  date_created date,\n  primary key (id)\n)default charset &#x3D; utf8 #编码设为utf8可以支持汉字</code></pre>\n\n<h2 id=\"查看表结构\"><a href=\"#查看表结构\" class=\"headerlink\" title=\"查看表结构\"></a>查看表结构</h2><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">describe table_name</code></pre>\n\n<h2 id=\"删除表\"><a href=\"#删除表\" class=\"headerlink\" title=\"删除表\"></a>删除表</h2><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">drop table table_name</code></pre>\n\n<h1 id=\"记录指令\"><a href=\"#记录指令\" class=\"headerlink\" title=\"记录指令\"></a>记录指令</h1><h2 id=\"增\"><a href=\"#增\" class=\"headerlink\" title=\"增\"></a>增</h2><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">insert into table_name\n  (column_1, column_2,...)\n  values (value_1, value_2,...)</code></pre>\n\n<h2 id=\"删\"><a href=\"#删\" class=\"headerlink\" title=\"删\"></a>删</h2><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">delete from table_name [where 条件语句]</code></pre>\n<div class=\"custom-quote tip\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06\"></path>\n<path stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M11.99 18H12.01\"></path>\n</svg></span>\n<p class=\"custom-quote-title\">提示</p>\n<p>truncate可以清空整张表，并让自动递增的字段归零(delete不会)</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">truncate table_name</code></pre>\n</p>\n</div>\n<h2 id=\"改\"><a href=\"#改\" class=\"headerlink\" title=\"改\"></a>改</h2><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">update table_name\n  set column_1 &#x3D; value_1,\n  column_2 &#x3D; value_2\n  [where 条件语句]</code></pre>\n\n<h2 id=\"查\"><a href=\"#查\" class=\"headerlink\" title=\"查\"></a>查</h2><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">select column_1[, column_2, column_3] [as column_alias]\n  from table_name\n  [where 条件]\n  [limit 查询数量上限]\n  [order by 需要排序的字段 [desc #降序]]</code></pre>\n\n<h2 id=\"清空表\"><a href=\"#清空表\" class=\"headerlink\" title=\"清空表\"></a>清空表</h2><h1 id=\"多表联查\"><a href=\"#多表联查\" class=\"headerlink\" title=\"多表联查\"></a>多表联查</h1><p>施工中。。。</p>\n<h1 id=\"数据类型\"><a href=\"#数据类型\" class=\"headerlink\" title=\"数据类型\"></a>数据类型</h1><h2 id=\"数值类\"><a href=\"#数值类\" class=\"headerlink\" title=\"数值类\"></a>数值类</h2><table>\n<thead>\n<tr>\n<th>类型</th>\n<th>范围</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>tinyint</td>\n<td>(0, 255)</td>\n</tr>\n<tr>\n<td>smallint</td>\n<td>(0, 65535)</td>\n</tr>\n<tr>\n<td>mediumint</td>\n<td>(0, 16777215)</td>\n</tr>\n<tr>\n<td>int</td>\n<td>(0, 4294967295)</td>\n</tr>\n<tr>\n<td>bigint</td>\n<td>(0, 2^64-1)</td>\n</tr>\n<tr>\n<td>decimal</td>\n<td>(M, D) M&lt;=65</td>\n</tr>\n<tr>\n<td>float</td>\n<td>(-3.402823466E+38, -1.175494351E-38), 0, (1.175494351E-38, 3.402823466E+38)</td>\n</tr>\n<tr>\n<td>double</td>\n<td>(-1.7976931348623157E+308, -2.2250738585072014E-308), 0, (2.2250738585072014E-308, 1.7976931348623157E+308)</td>\n</tr>\n</tbody></table>\n<h2 id=\"日期类\"><a href=\"#日期类\" class=\"headerlink\" title=\"日期类\"></a>日期类</h2><table>\n<thead>\n<tr>\n<th>类型</th>\n<th>格式</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>date</td>\n<td>‘0000-00-00’</td>\n</tr>\n<tr>\n<td>time</td>\n<td>‘00:00:00’</td>\n</tr>\n<tr>\n<td>datetime</td>\n<td>‘0000-00-00 00:00:00’</td>\n</tr>\n<tr>\n<td>timestamp</td>\n<td>‘0000-00-00 00:00:00’</td>\n</tr>\n<tr>\n<td>year</td>\n<td>0000</td>\n</tr>\n</tbody></table>\n<h2 id=\"字符串类\"><a href=\"#字符串类\" class=\"headerlink\" title=\"字符串类\"></a>字符串类</h2><table>\n<thead>\n<tr>\n<th>类型</th>\n<th>格式</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>char</td>\n<td>(0, 255)</td>\n</tr>\n<tr>\n<td>varchar</td>\n<td>(0, 65535)</td>\n</tr>\n</tbody></table>\n<h1 id=\"Where-子句\"><a href=\"#Where-子句\" class=\"headerlink\" title=\"Where 子句\"></a>Where 子句</h1><h2 id=\"在MyBatis中使用if条件判断\"><a href=\"#在MyBatis中使用if条件判断\" class=\"headerlink\" title=\"在MyBatis中使用if条件判断\"></a>在MyBatis中使用if条件判断</h2><p>在入参给出name的时候用name去匹配，反之查询所有记录</p>\n<pre class=\"line-numbers language-xml\" data-language=\"xml\"><code class=\"language-xml\">&lt;select id&#x3D;&quot;getModelList&quot; parameterType&#x3D;&quot;java.util.Map&quot; resultType&#x3D;&quot;java.util.Map&quot;&gt;\n  SELECT\n    id,\n    name,\n    birthday\n  FROM person_table\n  WHERE\n  &lt;if test&#x3D;&quot;name !&#x3D; null and name !&#x3D;&#39;&#39;&quot;&gt;\n        name &#x3D; #&#123;name&#125; AND\n  &lt;&#x2F;if&gt;\n  1&#x3D;1\n&lt;&#x2F;select&gt;</code></pre>\n\n<h1 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h1><ul>\n<li><a href=\"https://dev.mysql.com/doc/refman/8.0/en/\">MySQL官方文档</a></li>\n<li><a href=\"https://www.runoob.com/mysql/mysql-tutorial.html\">MySQL教程|菜鸟教程</a></li>\n<li><a href=\"https://www.runoob.com/sql/sql-tutorial.html\">SQL教程|菜鸟教程</a></li>\n</ul>\n","feature":true,"text":"前言实用MySQL语句小抄，持久更新SQL，全称Structured Query Language，读作sequel或S-Q-L 命令行语句连接服务器&gt;mysql -u root -p #root是连接所使用的用户名 断开连接mysql&gt; quit Bye 查看当前版...","link":"","photos":[],"count_time":{"symbolsCount":"2.5k","symbolsTime":"2 mins."},"categories":[],"tags":[{"name":"MySQL","slug":"MySQL","count":2,"path":"api/tags/MySQL.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%89%8D%E8%A8%80\"><span class=\"toc-text\">前言</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%AF%AD%E5%8F%A5\"><span class=\"toc-text\">命令行语句</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%BF%9E%E6%8E%A5%E6%9C%8D%E5%8A%A1%E5%99%A8\"><span class=\"toc-text\">连接服务器</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%96%AD%E5%BC%80%E8%BF%9E%E6%8E%A5\"><span class=\"toc-text\">断开连接</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E7%89%88%E6%9C%AC\"><span class=\"toc-text\">查看当前版本</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE%E5%BA%93\"><span class=\"toc-text\">查看所有数据库</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8C%87%E4%BB%A4\"><span class=\"toc-text\">数据库指令</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93\"><span class=\"toc-text\">创建数据库</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E5%BA%93\"><span class=\"toc-text\">使用数据库</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E9%80%89%E6%8B%A9%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93\"><span class=\"toc-text\">查看当前选择的数据库</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93\"><span class=\"toc-text\">删除数据库</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E8%A1%A8%E6%8C%87%E4%BB%A4\"><span class=\"toc-text\">表指令</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E5%86%85%E6%89%80%E6%9C%89%E8%A1%A8\"><span class=\"toc-text\">查看数据库内所有表</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BA%E8%A1%A8\"><span class=\"toc-text\">创建表</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B%E8%A1%A8%E7%BB%93%E6%9E%84\"><span class=\"toc-text\">查看表结构</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%88%A0%E9%99%A4%E8%A1%A8\"><span class=\"toc-text\">删除表</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E8%AE%B0%E5%BD%95%E6%8C%87%E4%BB%A4\"><span class=\"toc-text\">记录指令</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%A2%9E\"><span class=\"toc-text\">增</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%88%A0\"><span class=\"toc-text\">删</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%94%B9\"><span class=\"toc-text\">改</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%9F%A5\"><span class=\"toc-text\">查</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%B8%85%E7%A9%BA%E8%A1%A8\"><span class=\"toc-text\">清空表</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%A4%9A%E8%A1%A8%E8%81%94%E6%9F%A5\"><span class=\"toc-text\">多表联查</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B\"><span class=\"toc-text\">数据类型</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%95%B0%E5%80%BC%E7%B1%BB\"><span class=\"toc-text\">数值类</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%97%A5%E6%9C%9F%E7%B1%BB\"><span class=\"toc-text\">日期类</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB\"><span class=\"toc-text\">字符串类</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Where-%E5%AD%90%E5%8F%A5\"><span class=\"toc-text\">Where 子句</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%9C%A8MyBatis%E4%B8%AD%E4%BD%BF%E7%94%A8if%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD\"><span class=\"toc-text\">在MyBatis中使用if条件判断</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99\"><span class=\"toc-text\">参考资料</span></a></li></ol>","author":{"name":"風籟","slug":"blog-author","avatar":"/img/profile.png","link":"/","description":"Java/Python <br/> Dota 2/MHW/FFXIV","socials":{"github":"https://github.com/yinhao-f","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/109981771?spm_id_from=333.1007.0.0"},"steam":{"icon":"/svg/steam.svg","link":"https://steamcommunity.com/profiles/76561198119413566"}}}},"mapped":true,"prev_post":{},"next_post":{"title":"从零搭建MySQL数据库","uid":"adb368b14a25670c65fce9c14d140e79","slug":"create-sql-db","date":"2021-11-08T06:23:59.000Z","updated":"2021-11-10T08:04:15.860Z","comments":true,"path":"api/articles/create-sql-db.json","keywords":null,"cover":null,"text":"前言安装MySQL，建立连接，并在IntelliJ IDEA中操作使用 安装MySQL从MySQL官网下载MySQL Installer for Windows 提示 如果没有安装Visual Basics和Python，安装过程中选择Developer Default会报错，提...","link":"","photos":[],"count_time":{"symbolsCount":"2.2k","symbolsTime":"2 mins."},"categories":[],"tags":[{"name":"MySQL","slug":"MySQL","count":2,"path":"api/tags/MySQL.json"},{"name":"Java","slug":"Java","count":3,"path":"api/tags/Java.json"},{"name":"IntelliJ IDEA","slug":"IntelliJ-IDEA","count":1,"path":"api/tags/IntelliJ-IDEA.json"}],"author":{"name":"風籟","slug":"blog-author","avatar":"/img/profile.png","link":"/","description":"Java/Python <br/> Dota 2/MHW/FFXIV","socials":{"github":"https://github.com/yinhao-f","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/109981771?spm_id_from=333.1007.0.0"},"steam":{"icon":"/svg/steam.svg","link":"https://steamcommunity.com/profiles/76561198119413566"}}}},"feature":true}}